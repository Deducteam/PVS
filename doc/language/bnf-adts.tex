
\begin{bnf}
\production{RecursiveType}
{\hlink{Id} \opt{\hlink{TheoryFormals}} \lit{:} \brc{\lit{DATATYPE}
    \choice \lit{CODATATYPE}}\\[-0.1in]
  && \opt{\lit{WITH} \lit{SUBTYPES} \hlink{Ids}}\\[-0.1in]
&& \lit{BEGIN}\\[-0.1in]
&& \opt{\hlink{Importing} \opt{\lit{;}}} \\[-0.1in]
&& \opt{\hlink{AssumingPart}} \\[-0.1in]
&& \hlink{RecursiveTypePart} \\[-0.1in]
&& \lit{END} \hlink{Id}}

\production{InlineRecursiveType}
{\hlink{Id} \opt{\hlink{DeclFormals}} \lit{:} \brc{\lit{DATATYPE} \choice
    \lit{CODATATYPE}}\\[-0.1in]
  && \opt{\lit{WITH} \lit{SUBTYPES} \hlink{Ids}}\\[-0.1in]
&& \lit{BEGIN}\\[-0.1in]
&& \opt{\hlink{Importing} \opt{\lit{;}}} \\[-0.1in]
&& \opt{\hlink{AssumingPart}} \\[-0.1in]
&& \hlink{DatatypePart} \\[-0.1in]
&& \lit{END} \hlink{id}}

\production{RecursiveTypePart}
{\ite{\brc{\hlink{Constructor} \lit{:} \hlink{IdOp} \opt{\lit{:} \hlink{Id}}}}}

\production{Constructor}
{\hlink{IdOp} \opt{\lit{(} \ites{\{\hlink{IdOps} \lit{:} \hlink{TypeExpr} \}}{,} \lit{)}}}

\end{bnf}
