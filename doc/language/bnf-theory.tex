\begin{bnf}

\production{Specification}
{\ite{\brc{\hlink{Theory} \choice \hlink{RecursiveType}}}}

\production{Theory}
{\hlink{Id} \opt{\hlink{TheoryFormals}} \lit{:} \lit{THEORY}\\[-0.1in]
&& \opt{\hlink{Exporting}}\\[-0.1in]
&& \lit{BEGIN}\\[-0.1in]
&& \opt{\hlink{AssumingPart}}\\[-0.1in]
&& \opt{\hlink{TheoryPart}}\\[-0.1in]
&& \lit{END} \hlink{Id}}

\production{TheoryFormals}
{\lit{[}\ \ites{\hlink{TheoryFormal}}{,} \lit{]}}

\production{TheoryFormal}
{\opt{\lit{(} \hlink{Importing} \lit{)}} \hlink{TheoryFormalDecl}}

\production{TheoryFormalDecl}
{\hlink{TheoryFormalType} \\[-0.1in]
& \choice & \hlink{TheoryFormalConst} \\[-0.1in]
& \choice & \hlink{TheoryFormalTheory}}

\production{TheoryFormalType}
{\hlink{Ids} \lit{:} \brc{\lit{TYPE} \choice \lit{NONEMPTY\_TYPE} \choice \lit{TYPE+}} \\[-0.1in]
& & \hspace{0.5in}\opt{\brc{\lit{FROM} \choice \lit{<:}} \hlink{TypeExpr}}}

\production{TheoryFormalConst}
{\hlink{IdOps} \lit{:} \hlink{TypeExpr}}

\production{TheoryFormalTheory}
{\hlink{IdOps} \lit{:} \lit{THEORY} \hlink{TheoryDeclName}}

\end{bnf}
