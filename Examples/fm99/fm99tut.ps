%!PS-Adobe-2.0
%%Creator: dvipsk 5.58f Copyright 1986, 1994 Radical Eye Software
%%Title: fm99tut.dvi
%%Pages: 7
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Roman Courier
%%DocumentPaperSizes: Letter
%%EndComments
%DVIPSCommandLine: dvips -f fm99tut
%DVIPSParameters: dpi=600, comments removed
%DVIPSSource:  TeX output 1999.09.09:1428
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}
if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginFont: Times-Bold
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def
%%EndFont
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (fm99tut.dvi)
@start /Fa 103[50 29[50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 1[50 50 50 50 50 50 50 50 50 50 1[50 1[50
1[50 1[50 1[50 50 50 50 50 50 1[50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 1[50 50 50 50 1[50 50 1[50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 2[50 37[{
 TeXBase1Encoding ReEncodeFont }75 83.333337 /Courier
rf /Fb 138[66 40 47 53 1[66 60 66 100 3[33 1[60 1[53
3[60 13[66 6[80 2[47 21[60 60 60 49[{ TeXBase1Encoding ReEncodeFont }18
119.999948 /Times-Bold rf /Fc 135[55 1[55 55 55 55 55
55 55 55 55 55 55 1[55 55 55 1[55 55 55 55 55 55 3[55
1[55 6[55 6[55 7[55 7[55 55 1[55 5[55 55 55 55 55 55
55 55 55 2[55 55 40[{ TeXBase1Encoding ReEncodeFont }40
91.249976 /Courier rf /Fd 107[40 40 25[45 45 66 45 45
25 35 30 45 45 45 45 71 25 45 25 25 45 45 30 40 45 40
45 40 7[66 1[86 66 1[56 51 2[51 66 66 1[56 2[30 66 1[51
1[66 61 61 66 5[25 25 2[45 45 45 45 45 45 45 2[23 30
23 2[30 30 37[51 2[{ TeXBase1Encoding ReEncodeFont }58
91.249976 /Times-Roman rf /Fe 134[50 2[50 50 28 39 33
1[50 50 50 78 28 50 1[28 50 50 1[44 50 44 50 44 11[72
1[55 66 1[55 1[72 89 61 1[39 33 4[72 66 1[72 7[50 3[50
50 1[50 1[50 1[25 33 25 44[{ TeXBase1Encoding ReEncodeFont }40
100.000003 /Times-Roman rf /Ff 138[80 48 1[64 2[72 2[40
2[40 7[72 10[104 1[96 80 2[88 2[135 6[88 12[72 12[36
44[{ TeXBase1Encoding ReEncodeFont }15 143.999997 /Times-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: Letter

%%EndSetup
%%Page: 1 1
1 0 bop 1419 613 a Ff(PVS)35 b(T)-13 b(utorial,)33 b(FM99)988
866 y Fe(John)24 b(Rushby)-6 b(,)24 b(Da)n(v)o(e)h(Stringer)n(-Calv)o
(ert,)g(and)f(N.)h(Shankar)1440 982 y(Computer)f(Science)i(Laboratory)
1695 1098 y(SRI)g(International)1476 1214 y(Menlo)e(P)o(ark)h(CA)h
(94025)e(USA)531 1554 y Fd(These)36 b(are)h(the)f(e)o(xamples)h(that)g
(will)e(be)h(used)h(during)h(the)e(\002rst)g(part)g(of)g(the)h
(tutorial.)68 b(The)o(y)390 1667 y(\(and)25 b(se)n(v)o(eral)g(others\))
h(are)f(a)n(v)n(ailable)h(by)f(follo)n(wing)g(the)g Fc(ExamplesandTuto)
o(ri)o(al)o(s)17 b Fd(link)25 b(from)390 1780 y(the)j(PVS)d(home)j
(page)g(at)g Fc(http://pvs.csl)o(.s)o(ri)o(.c)o(om)p
Fd(.)33 b(Y)-10 b(ou)28 b(can)f(also)i(do)n(wnload)f(the)g(PVS)390
1893 y(system)21 b(from)f(there.)29 b(This)20 b(document)i(is)e(not)h
(intended)i(to)d(be)g(self-contained:)32 b(it)20 b(is)h(intended)h(to)e
(help)390 2006 y(you)k(follo)n(w)g(along)g(during)h(the)f(tutorial.)31
b(If)23 b(you)h(w)o(ant)f(to)h(e)o(xamine)g(the)g(proofs)h(for)e(the)h
(lemmas)g(and)390 2119 y(theorems)h(appearing)h(here,)d(load)h(the)g
(appropriate)i(e)o(xample)e(\002le)f(into)h(PVS,)d(position)k(the)f
(cursor)g(in)390 2232 y(the)31 b(formula)h(whose)f(proof)g(you)h(wish)e
(to)h(e)o(xamine,)i(and)e(gi)n(v)o(e)g(the)g(command)g
Fc(M-x)53 b(step)p Fd(.)48 b(The)390 2345 y(tw)o(o)23
b(characters)j Fc(tab)54 b(1)22 b Fd(will)h(then)h(step)g(you)h
(through)g(the)f(proof)h(one)f(command)g(at)f(a)g(time.)390
2637 y Fb(1)119 b(Sum)390 2844 y Fd(This)44 b(e)o(xample)i(is)e(used)h
(to)f(introduce)j(the)e(look)h(and)e(feel)h(of)g(PVS.)d(The)i(recursi)n
(v)o(e)i(function)390 2957 y Fc(sum)p 560 2957 28 4 v
31 w(nats)31 b Fd(tak)o(es)j(a)f(natural)i(number)f Fc(n)e
Fd(as)h(its)g(ar)n(gument)i(and)f(returns)h(the)e(sum)g(of)g(the)h
(natural)390 3070 y(numbers)25 b(up)e(to)h Fc(n)p Fd(.)p
390 3200 3299 4 v 388 4822 4 1622 v 440 3294 a Fa(sum:)49
b(THEORY)440 3393 y(BEGIN)539 3593 y(sum_nats\(n:)f(nat\):)h(RECURSIVE)
f(nat)h(=)639 3692 y(IF)h(n=0)f(THEN)g(0)g(ELSE)h(n+sum_nats\(n-1\))d
(ENDIF)539 3792 y(MEASURE)i(n)539 3991 y(test:)g(LEMMA)g(sum_nats\(3\))
f(=)i(6)539 4190 y(closed_form:)e(THEOREM)h(FORALL)f(\(n:nat\):)h
(sum_nats\(n\))e(=)j(n*\(n+1\)/2)539 4390 y(bigtest:)f(LEMMA)198
b(sum_nats\(100\))f(=)50 b(5050)539 4489 y(biggertest:)e(LEMMA)h
(sum_nats\(200\))197 b(=)50 b(20100)539 4589 y(hugetest:)f(LEMMA)148
b(sum_nats\(100000\))47 b(=)j(5000050000)440 4788 y(END)f(sum)p
3685 4822 V 390 4825 3299 4 v 531 4994 a Fd(Because)28
b(it)e(is)g(recursi)n(v)o(e,)j(we)c(must)i(gi)n(v)o(e)f(a)g
Fc(measure)d Fd(to)j(help)h(establish)i(termination.)40
b(Proof)390 5107 y(obligations)31 b(called)f(T)-7 b(ypecheck)31
b(Correctness)g(Conditions)g(\(TCCs\))c(are)i(generated)i(to)e(ensure)h
(that)2017 5356 y(1)p eop
%%Page: 2 2
2 1 bop 246 249 a Fd(the)37 b(measure)g(decreases)j(across)d(recursi)n
(v)o(e)i(calls,)h(and)d(also)g(that)g(the)g(e)o(xpression)i
Fc(n-1)c Fd(is)h(well-)246 361 y(de\002ned)24 b(\(i.e.,)f(that)h(it)g
(is)f(not)h(ne)o(gati)n(v)o(e\).)387 533 y(W)-7 b(e)19
b(can)i(test)g(this)f(speci\002cation)j(by)e(e)o(xpanding)h(the)f
(de\002nition)h(se)n(v)o(eral)f(times)f(to)g(e)n(v)n(aluate)i(small)246
646 y(v)n(alues)k(such)g(as)f Fc(sum)p 961 646 28 4 v
31 w(nats\(3\))p Fd(.)k(Then)c(we)f(can)h(use)h(the)f(pro)o(v)o(er)h
(to)e(establish)k(\(by)d(induction\))j(the)246 759 y(closed-form)e(e)o
(xpression)g(for)e(this)g(sum.)387 930 y(If)40 b(we)f(try)h(testing)h
(lar)n(ger)h(and)e(lar)n(ger)h(v)n(alues,)k(we)39 b(see)h(that)h(e)o(x)
o(ecution)h(by)e(theorem)g(pro)o(v-)246 1043 y(ing)e(is)g(not)h(v)o
(ery)f(ef)n(\002cient:)60 b(it)37 b(tak)o(es)j(se)n(v)o(eral)f(seconds)
h(to)e(e)n(v)n(aluate)h Fc(sum)p 2767 1043 V 32 w(nats\(100\))p
Fd(.)67 b(PVS)246 1156 y(has)35 b(a)f(ground)j(e)n(v)n(aluator)g(this)e
(purpose;)43 b(it)34 b(compiles)i(PVS)d(into)j(Lisp)e(that)h(can)h
(easily)g(e)n(v)n(aluate)246 1269 y Fc(sum)p 416 1269
V 31 w(nats\(100000\))p Fd(.)246 1908 y Fb(2)119 b(Summations)246
2230 y Fd(This)48 b(e)o(xample)h(demonstrates)j(some)c(of)h(the)f
(higher)n(-order)k(features)f(of)d(PVS.)e(The)i(function)246
2343 y Fc(summation)36 b Fd(tak)o(es)41 b(another)i(function)f(as)f
(its)f(ar)n(gument)j(and)e(sums)f(the)h(v)n(alue)h(of)e(that)h(func-)
246 2456 y(tion)49 b(o)o(v)o(er)f(the)g(natural)i(numbers)g(up)e(to)g
Fc(n)p Fd(.)101 b(The)48 b(function)i Fc(id[nat])45 b
Fd(is)j(a)f(PVS)f(prelude)246 2569 y(\(b)n(uilt-in\))h(function)f(that)
e(speci\002es)h(the)f(identity)i(function)g(on)e(the)g(natural)i
(numbers,)k(so)44 b(that)246 2682 y Fc(summation\(id[na)o(t])o(,)k(n\))
23 b Fd(should)i(be)g(the)f(same)g(as)g Fc(sum)p 2403
2682 V 31 w(nats\(n\))p Fd(.)j(W)-7 b(e)23 b(pro)o(v)o(e)h(this)h(f)o
(act,)246 2795 y(and)f(also)g(the)g(closed-form)i(e)o(xpressions)h(for)
c(sums)h(of)f(squares)j(and)e(cubes.)p 246 3276 3299
4 v 244 5104 4 1828 v 296 3376 a Fa(summations:)48 b(THEORY)395
3476 y(BEGIN)445 3675 y(n:)i(VAR)f(nat)445 3775 y(f,)h(g:)f(VAR)g([nat)
g(->)h(real])445 3974 y(summation\(f,)e(n\):)h(RECURSIVE)f(real)h(=)495
4074 y(IF)h(n)f(=)h(0)595 4173 y(THEN)f(f\(0\))595 4273
y(ELSE)g(f\(n\))g(+)g(summation\(f,)f(n)i(-)f(1\))495
4373 y(ENDIF)445 4472 y(MEASURE)g(n)395 4671 y(IMPORTING)g(sum)395
4771 y(summation_nats:)e(LEMMA)99 b(summation\(id[nat],)47
b(n\))i(=)h(sum_nats\(n\))395 4871 y(summation_nats_closed_form:)45
b(LEMMA)1541 4970 y(summation\(id[nat],)i(n\))i(=)h(n*\(n+1\)/2)296
5070 y(...continued)p 3541 5104 V 246 5107 3299 4 v 1873
5356 a Fd(2)p eop
%%Page: 3 3
3 2 bop 390 161 3299 4 v 388 1490 4 1330 v 440 260 a
Fa(...continuation)539 460 y(r:)50 b(VAR)f(real)539 559
y(square\(r:)g(real\):)f(real)h(=)h(r*r)539 759 y(summation_squares:)d
(LEMMA)639 858 y(summation\(square,)g(n\))i(=)h(n)f(*)h(\(n)f(+)h(1\))g
(*)f(\(2*n)g(+)h(1\))f(/)h(6)539 1057 y(cube\(r\):)f(real)g(=)g(r*r*r)
539 1257 y(summation_cubes:)e(LEMMA)639 1356 y(summation\(cube,)g(n\))j
(=)f(n*n*\(n+1\)*\(n+1\)/4)440 1456 y(...continued)p
3685 1490 V 390 1493 3299 4 v 390 1808 a Fd(T)-7 b(o)21
b(illustrate)i(additional)i(proof)e(commands,)f(we)f(also)h(pro)o(v)o
(e)h(that)f(the)g(sum)f(of)g(cubes)i(is)f(equal)g(to)g(the)390
1920 y(square)j(of)e(the)h(sum)g(of)f(naturals.)p 390
2225 V 388 4451 4 2226 v 440 2325 a Fa(...continuation)539
2524 y(summation_of_cubes_alt:)46 b(LEMMA)639 2624 y(summation\(cube,)h
(n\))j(=)f(square\(summation\(id[nat],n\)\))539 2823
y(summation_of_cubes_alt2:)d(LEMMA)639 2922 y(summation\(cube,)h(n\))j
(=)f(square\(summation\(id[nat],n\)\))539 3122 y(summation_of_sum:)e
(LEMMA)639 3221 y(summation\(\(lambda)g(n:)i(f\(n\))g(+)h(g\(n\)\),)f
(n\))g(=)739 3321 y(summation\(f,)e(n\))j(+)f(summation\(g,)f(n\))539
3520 y(subtype_test:)g(LEMMA)639 3620 y(summation\(square,)f
(summation\(id[nat],3\)\))f(=)j(91)539 3819 y(summation_of_nat_is_nat:)
d(JUDGEMENT)689 3919 y(summation\(g:[nat->nat],)f(n\))50
b(HAS_TYPE)e(nat)539 4118 y(judgement_test:)f(LEMMA)689
4218 y(summation\(square,)g(summation\(id[nat],)f(3\)\))j(=)h(91)440
4417 y(END)f(summations)p 3685 4451 V 390 4454 3299 4
v 390 4768 a Fd(The)21 b Fc(summations)16 b Fd(function)23
b(is)e(de\002ned)h(o)o(v)o(er)g(the)f(reals)h(and)g(returns)h(a)e(real)
h(v)n(alue,)g(so)f(if)g(we)g(try)g(to)390 4881 y(use)g
Fc(summation\(id[na)o(t])o(,3\))13 b Fd(as)21 b(the)g
Fc(n)f Fd(in)g Fc(summation\(squar)o(e,)48 b(n\))19 b
Fd(we)h(encounter)k(a)390 4994 y(TCC.)c(Ho)n(we)n(v)o(er)l(,)j(the)g
(summation)h(of)e(a)h Fc(nat)p Fd(-v)n(alued)g(function)h(is)f(al)o(w)o
(ays)g(a)g Fc(nat)d Fd(and)j(it)g(is)f(better)i(to)390
5107 y(establish)g(this)e(f)o(act)g(once)g(and)g(for)g(all.)28
b(W)-7 b(e)21 b(use)h(this)g(to)f(illustrate)j(the)e(use)g(of)f(PVS)f
(type)i(judgements.)2017 5356 y(3)p eop
%%Page: 4 4
4 3 bop 246 249 a Fb(3)119 b(Language)30 b(Inter)o(pr)n(eter)246
477 y Fd(The)25 b(ne)o(xt)h(e)o(xample)g(introduces)j(PVS)23
b(Abstract)k(Data)e(T)-7 b(ypes.)35 b(W)-7 b(e)24 b(will)i(de\002ne)g
(a)f(simple)h(program-)246 590 y(ming)19 b(language)i(for)e(a)f
(machine)i(whose)g(memory)f(can)g(store)g(inte)o(gers)i(and)e(is)g
(addressed)i(by)e(numbers)246 703 y(in)k(the)h(range)h
Fc(1..1000)p Fd(.)p 246 900 3299 4 v 244 1631 4 732 v
296 999 a Fa(memories:)48 b(THEORY)296 1099 y(BEGIN)395
1199 y(n:)i(nat)f(=)h(1000)395 1298 y(addrs:)f(TYPE)g(=)h(upto\(n\))395
1398 y(memory:)f(TYPE)g(=)h([addrs)e(->)i(int])296 1498
y(END)f(memories)296 1597 y(...continued)p 3541 1631
V 246 1634 3299 4 v 387 1859 a Fd(Our)34 b(language)i(has)e(e)o
(xpressions)j(consisting)g(of)d(literal)h(inte)o(ger)g(constants,)k
(\223v)n(ariables\224)e(that)246 1972 y(denote)25 b(a)e(memory)h
(address,)h(and)f(\(recursi)n(v)o(ely\))j(sums,)c(dif)n(ferences,)j
(and)e(ne)o(gations.)p 246 2168 V 244 3298 4 1131 v 296
2268 a Fa(...continuation)296 2368 y(exprs:)49 b(DATATYPE)296
2467 y(BEGIN)346 2567 y(IMPORTING)f(memories)346 2667
y(const\(n:)g(int\):)h(num?)346 2766 y(varbl\(a:)f(addrs\):)g(vbl?)346
2866 y(+\(x,y:)g(exprs\):)h(sum?)346 2966 y(-\(x,y:)f(exprs\):)h(diff?)
346 3065 y(\230\(x:)g(exprs\):)f(minus?)296 3165 y(END)h(exprs)296
3264 y(...continued)p 3541 3298 V 246 3302 3299 4 v 387
3526 a Fd(Statements)30 b(consist)g(of)f(assignments,)j(sequential)f
(composition,)i(if-then-else,)f(and)d(primiti)n(v)o(e)246
3639 y(\223for\224)24 b(loops)h(that)f(e)o(x)o(ecuted)h(a)e(\002x)o(ed)
h(number)g(of)g(times)f(gi)n(v)o(en)h(by)g(an)g(e)o(xplicit)h(natural)g
(number)-5 b(.)p 246 3836 V 244 4766 4 931 v 296 3935
a Fa(...continuation)296 4035 y(statements:)48 b(DATATYPE)296
4135 y(BEGIN)346 4234 y(IMPORTING)g(memories,)g(exprs)395
4334 y(assign\(a:addrs,)f(e:exprs\):)i(assign?)395 4434
y(seq\(a,b:)g(statements\):)e(seq?)395 4533 y(ifelse\(t:)i(exprs,)f
(i,e:statements\):)f(ifelse?)395 4633 y(for\(l:)i(nat,)g
(b:statements\):)e(for?)296 4733 y(END)i(statements)p
3541 4766 V 246 4770 3299 4 v 387 4994 a Fd(Notice)35
b(that)g Fc(exprs)c Fd(and)k Fc(statements)29 b Fd(are)34
b(not)h(mutually)g(recursi)n(v)o(e;)42 b(if)34 b(the)o(y)h(were,)h(we)
246 5107 y(w)o(ould)24 b(ha)n(v)o(e)g(to)g(de\002ne)g(them)f(together)j
(in)d(a)g(single)i(datatype)h(with)d(subtypes.)31 b(here)25
b(is)e(an)h(e)o(xample)1873 5356 y(4)p eop
%%Page: 5 5
5 4 bop 390 161 3299 4 v 388 1091 4 931 v 440 260 a Fa(expression:)48
b(DATATYPE)g(WITH)h(SUBTYPES)f(term,)h(typ)440 360 y(BEGIN)539
460 y(base_type\(n:nat\):)e(base_type?)h(:)i(typ)539
559 y(funtype\(dom:)e(typ,)h(ran:)g(typ\):)g(funtype?)f(:)i(typ)539
659 y(variable\(n:nat\):)d(variable?)h(:)i(term)539 759
y(number\(num:nat\):)d(number?)i(:)g(term)539 858 y(lam\(v:)g
(\(variable?\),)f(ty:)h(typ,)g(ex:)g(term\):)g(lam?)g(:)h(term)539
958 y(app\(op:)f(term,)g(arg:)g(term\):)g(app?)g(:)g(term)440
1057 y(END)g(expression)p 3685 1091 V 390 1095 3299 4
v 531 1250 a Fd(W)-7 b(e)25 b(de\002ne)g(the)h(semantics)h(of)e(simple)
h Fc(exprs)d Fd(in)i(the)h(conte)o(xt)h(of)e(a)g(gi)n(v)o(en)h(memory)f
(by)h(means)390 1363 y(of)d(an)g(interpreter)i(function)h
Fc(valof)p Fd(.)f(The)d(subterm)i(ordering)i(predicate)f
Fc(<<)c Fd(on)i Fc(exprs)d Fd(is)j(used)g(to)390 1476
y(establish)j(termination.)p 390 1573 V 388 3000 4 1427
v 440 1671 a Fa(eval:)49 b(THEORY)440 1770 y(BEGIN)539
1870 y(IMPORTING)g(statements)539 2069 y(valof\(v:)g(exprs\)\(mem:)f
(memory\):)g(RECURSIVE)g(int)h(=)639 2169 y(CASES)g(v)h(OF)739
2268 y(const\(n\):)e(n,)739 2368 y(varbl\(a\):)g(mem\(a\),)739
2468 y(+\(x,y\):)148 b(valof\(x\)\(mem\))47 b(+)j(valof\(y\)\(mem\),)
739 2567 y(-\(x,y\):)148 b(valof\(x\)\(mem\))47 b(-)j
(valof\(y\)\(mem\),)739 2667 y(\230\(x\):)248 b(-)49
b(valof\(x\)\(mem\))639 2766 y(ENDCASES)539 2866 y(MEASURE)99
b(v)49 b(BY)h(<<)440 2966 y(...continued)p 3685 3000
V 390 3003 3299 4 v 531 3158 a Fd(W)-7 b(e)33 b(can)h(test)g(our)g
(speci\002cation)j(by)d(e)n(v)n(aluating)i(some)e(simple)g(e)o
(xpressions.)62 b(The)33 b(\002rst)h(tw)o(o,)390 3271
y Fc(test1)f Fd(and)k Fc(test2)d Fd(mean)i(the)h(same)f(thing:)56
b(the)37 b(latter)h(uses)f(the)g(in\002x)f(and)h(pre\002x)g(forms)f(of)
390 3384 y(the)f(subtraction)i(and)e(unary)g(minus)g(functions.)64
b(W)-7 b(e)33 b(can)i(a)n(v)n(oid)g(ha)n(ving)i(to)d(use)g(the)h
(constructor)390 3497 y Fc(const)e Fd(each)j(time)g(by)g(specifying)j
(it)d(as)g(a)f Fc(conversion)p Fd(;)i(if)f(we)f(also)h(specify)i
Fc(varbl)33 b Fd(as)j(a)390 3610 y Fc(conversion)17 b
Fd(then)23 b(this)g(is)f(preferred)i(o)o(v)o(er)e Fc(const)d
Fd(\(because)25 b(it)d(comes)g(later\))i(and)e Fc(test4)d
Fd(does)390 3723 y(not)24 b(mean)g(the)f(same)h(as)f
Fc(test3)p Fd(.)p 390 3820 V 388 5150 4 1330 v 440 3920
a Fa(...continuation)539 4020 y(arb:)50 b(memory)539
4219 y(test1:)f(LEMMA)g(valof\(-\(const\(3\),)e
(\230\(const\(4\)\)\)\)\(arb\))f(=)k(7)539 4319 y(test2:)f(LEMMA)g
(valof\(const\(3\))e(-)j(\230const\(4\)\)\(arb\))d(=)i(7)539
4518 y(CONVERSION)f(const)539 4618 y(test3:)h(LEMMA)g(valof\(3)g(-)g
(\2304\)\(arb\))f(=)i(7)539 4817 y(CONVERSION)e(varbl)539
4916 y(test4:)99 b(LEMMA)49 b(valof\(3)f(-)i(\2304\)\(arb\))e(=)i(7)539
5016 y(test4a:)f(LEMMA)g(valof\(3)f(-)i(\2304\)\(arb)e(with)i
([\(3\):=12,)e(\(4\):=-5]\))g(=)h(7)440 5116 y(...continued)p
3685 5150 V 390 5153 3299 4 v 2017 5356 a Fd(5)p eop
%%Page: 6 6
6 5 bop 387 249 a Fd(The)28 b(logically)j(ne)o(xt)f(step)f(is)f(to)h
(de\002ne)g(the)g(semantics)i(of)d Fc(statements)p Fd(,)d(b)n(ut)k
(\002rst)f(we)g(must)246 361 y(introduce)e(a)d(function)j(that)e(can)g
(be)f(used)i(as)e(a)g(measure)i(for)f(that)g(recursi)n(v)o(e)h
(de\002nition.)p 246 469 3299 4 v 244 2596 4 2127 v 296
569 a Fa(...continuation)395 669 y(runtime\(s:)48 b(statements\):)g
(RECURSIVE)g(posnat)h(=)395 768 y(CASES)g(s)h(OF)495
868 y(assign\(a,)e(e\):)99 b(1,)495 968 y(seq\(a,)49
b(b\):)248 b(runtime\(a\))48 b(+)i(runtime\(b\),)495
1067 y(ifelse\(t,i,e\):)d(max\(runtime\(i\),runtime\(e\)\)+1,)495
1167 y(for\(l,b\):)297 b(l*runtime\(b\)+1)395 1267 y(ENDCASES)395
1366 y(MEASURE)49 b(s)h(BY)f(<<)395 1565 y(exec\(s:)g
(statements\)\(mem:)e(memory\):)h(RECURSIVE)g(memory)h(=)395
1665 y(CASES)g(s)h(OF)495 1765 y(assign\(a,)e(e\):)99
b(mem)50 b(with)f([\(a\))g(:=)g(valof\(e\)\(mem\)],)495
1864 y(seq\(a,)g(b\):)248 b(exec\(b\)\(exec\(a\)\(mem\)\),)495
1964 y(ifelse\(t,i,e\):)47 b(IF)j(valof\(t\)\(mem\))d(/=)j(0)f(THEN)g
(exec\(i\)\(mem\))1242 2064 y(ELSE)g(exec\(i\)\(mem\))f(ENDIF,)495
2163 y(for\(l,b\):)297 b(IF)50 b(l)f(=)h(0)g(then)f(mem)1242
2263 y(ELSE)g(exec\(for\(l-1,b\)\)\(exec\(b\)\(mem\)\))c(ENDIF)395
2362 y(ENDCASES)395 2462 y(MEASURE)k(runtime\(s\))296
2562 y(...continued)p 3541 2596 V 246 2599 3299 4 v 387
2764 a Fd(W)-7 b(e)21 b(can)h(test)h(these)g(de\002nitions)h(by)e(e)n
(v)n(aluating)i(some)e(simple)h(statements,)h(and)e(then)h(a)e(program)
246 2877 y(that)j(sums)g(the)g(\002rst)f Fc(j)f Fd(natural)j(numbers.)p
246 2998 V 244 4825 4 1828 v 296 3098 a Fa(...continuation)395
3297 y(init:)49 b(memory)g(=)h(id[addrs])395 3496 y(test5:)f(LEMMA)495
3596 y(valof\(varbl\(3\)\)\(exec\(assign\(3,)44 b(-\(3,)49
b(\230\(4\)\)\)\)\(init\)\))f(=)h(7)395 3696 y(test5a:)g(LEMMA)495
3795 y(valof\(3\)\(exec\(assign\(3,)d(3)j(-)h(\2304\)\)\(init\)\))e(=)h
(7)395 3995 y(zero:)g(memory)g(=)h(0)f(\045)h(K)g(conversion)395
4194 y(test_sum:)f(LEMMA)f(LET)i(j)f(=)h(10)f(IN)495
4293 y(valof\(0\)\(exec\()744 4393 y(for\(j+1,seq\(assign\(0,)d
(varbl\(0\))i(+)i(varbl\(1\)\),)1342 4493 y(assign\(1,)e(varbl\(1\))g
(+)i(const\(1\)\)\)\)\)\(zero\)\))595 4592 y(=)f(sum_nats\(j\))296
4792 y(...continued)p 3541 4825 V 246 4829 3299 4 v 387
4994 a Fd(W)-7 b(e)28 b(can)h(e)n(v)n(aluate)h(the)f(e)o(xpression)j
(in)c Fc(test)p 1892 4994 28 4 v 31 w(sum)f Fd(for)i
Fc(j)54 b(=)g(10)27 b Fd(using)j(re)n(writing,)h(b)n(ut)e(using)246
5107 y(the)24 b(PVS)d(ground)26 b(e)n(v)n(aluator)f(we)e(can)h(do)f(it)
h(for)f Fc(j)54 b(=)g(100000)20 b Fd(in)k(just)g(a)f(fe)n(w)g(seconds.)
1873 5356 y(6)p eop
%%Page: 7 7
7 6 bop 531 249 a Fd(Finally)-6 b(,)21 b(we)c(pro)o(v)o(e)j(that)f(the)
g(program)h(does)g(indeed)g(compute)g(the)f(same)g(function)i(as)e
Fc(sum)p 3475 249 28 4 v 31 w(nat)p Fd(;)390 361 y(\002rst)k(we)g(pro)o
(v)o(e)h(the)g(loop)g(in)l(v)n(ariant,)i(then)e(the)g(desired)h
(correctness)i(theorem.)p 390 492 3299 4 v 388 2021 4
1529 v 440 592 a Fa(...continuation)539 791 y(program_prop_lemma:)47
b(LEMMA)98 b(FORALL)49 b(\(j:nat\),\(m:memory\):)639
891 y(valof\(0\)\(exec\()888 991 y(for\(j+1,seq\(assign\(0,)d
(varbl\(0\))i(+)i(varbl\(1\)\),)1486 1090 y(assign\(1,)e(varbl\(1\))g
(+)i(const\(1\)\)\)\)\)\(m\)\))d(=)888 1190 y(sum_nats\(j\))h(+)i
(m\(0\))f(+)g(\(j+1\)*m\(1\))539 1389 y(program_prop:)f(THEOREM)98
b(FORALL)49 b(\(j:nat\):)639 1489 y(valof\(0\)\(exec\()888
1588 y(for\(j+1,seq\(assign\(0,)d(varbl\(0\))i(+)i(varbl\(1\)\),)1486
1688 y(assign\(1,)e(varbl\(1\))g(+)i(const\(1\)\)\)\)\)\(zero\)\))739
1788 y(=)f(sum_nats\(j\))440 1987 y(END)g(eval)p 3685
2021 V 390 2024 3299 4 v 531 2194 a Fd(That)23 b(concludes)j(this)d
(part)g(of)g(the)g(tutorial.)31 b(The)22 b(second)j(part)e(will)g
(demonstrate)i(model)f(check-)390 2307 y(ing,)g(abstraction,)i(and)e
(other)h(more)e(adv)n(anced)j(or)d(recent)i(capabilities.)2017
5356 y(7)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
